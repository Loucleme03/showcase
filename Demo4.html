<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" >
    <meta name="viewport" content="initial-scale=1,maximum-scale=1,user-scalable=no" >
    <link rel= "stylesheet" href= "stylesheet.css">
    <title>esri-Leaflet Map</title>
    <!-- Call Javascript from file -->
     <!--  <script type = "module" src="Javascript.js"></script> -->
    <!-- Load Leaflet from CDN -->
      <!-- Load Leaflet from CDN -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" crossorigin="" />
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js" crossorigin=""></script>
    <!-- Load Esri Leaflet from CDN -->
    <script src="https://unpkg.com/esri-leaflet@3.0.10/dist/esri-leaflet.js"></script>
    <script src="https://unpkg.com/esri-leaflet-vector@4.1.0/dist/esri-leaflet-vector.js"></script>
    
    <style>  
    html, body {
        height: 100%;
        margin: 0;
        padding: 0;
     }
    </style>
  </head>
  <body>
 <nav id="myTopnav">
     <a href="index.html">Home</a>
     <a href="Demo1.html">Demo 1</a>
     <a href="Demo2.html">Demo 2</a>
     <a href="Demo3.html">Demo 3</a>
     <a href="Demo4.html" class="active">Demo 4</a>
     <a href="Demo5.html">Demo 5</a>
     <a href="javascript:void(0);" class="icon" onclick="myFunction()">
     <i class="fa fa-bars"></i>
     </a>
 </nav>
   <div class = "container">    
     <div class = "sliderPara">
       <p> 1984 <input id="slide" type="range" min="0" max="1" step="0.2" value="1" onchange="updateOpacity(this.value)"> 2021</p>
     </div>
   </div>
   <div id="map2"></div>
     <script>
         //Create Map set View
     const apiKey = "AAPK12b8f9e1da2940bbbe0febf69977fe0eRsGXL4uHQ8jvzClzGSzqfQRamq1XnSFNukmkNN0wrlrtSJriluYaeTPmVwwEpgCS";
      const basemapEnum = "ArcGIS:LightGray:Base";
      const map2 = L.map("map2", {
        minZoom: 2
      }).setView([44.6308, -79.0548], 12); 
     L.esri.Vector.vectorBasemapLayer(basemapEnum, {
        apiKey: apiKey
      }).addTo(map2);
// Create raster tile image from 1984      
    var OldCarden = L.esri.tiledMapLayer({
        url: "https://tiles.arcgis.com/tiles/pMeXRvgWClLJZr3s/arcgis/rest/services/Carden1984_WTL1/MapServer",
       apiKey: apiKey,
        zoomOffsetAllowance: 0.6,
        opacity: 1,
        }).addTo(map2);    
      map2.getPane("tilePane").style.zIndex = 450;
  // Create raster tile image from 2022          
       var NewCarden = L.esri.tiledMapLayer({
        url: "https://tiles.arcgis.com/tiles/pMeXRvgWClLJZr3s/arcgis/rest/services/Carden2021_WTL1/MapServer",
       apiKey: apiKey,
       zoomOffsetAllowance: 0.6,
        opacity: 1,
      }).addTo(map2);   
      map2.getPane("tilePane").style.zIndex = 450;

     // use function to be able to change opacity with slider
    // Needs to be done on NewCarden since it was added last to the Javascript
      function updateOpacity(value) {
        NewCarden.setOpacity(value);
      }
// create scale bar in bottom left corner
      L.control.scale ({
        metric: true,
        imperial: false,
        position: 'bottomleft'
      }).addTo(map2);
     </script>
   
  </body>
</html>
